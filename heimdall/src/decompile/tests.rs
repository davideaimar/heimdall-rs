#[cfg(test)]
mod benchmark {
    use clap_verbosity_flag::Verbosity;
    use heimdall_common::testing::benchmarks::benchmark;

    use crate::decompile::DecompilerArgs;

    #[test]
    fn benchmark_decompile_complex() {

        fn bench() {
            let args = DecompilerArgs {
                target: String::from("60806040526004361061036f5760003560e01c806370a08231116101c6578063b88d4fde116100f7578063e054921111610095578063ed647d211161006f578063ed647d2114610a44578063eedcf57414610a85578063f2fde38b14610aa5578063f37dc00a14610ac5576103a1565b8063e0549211146109e4578063e5f73d3a14610a04578063e985e9c514610a24576103a1565b8063c87b56dd116100d1578063c87b56dd1461095a578063d082e3811461097a578063d218d95d14610990578063dc53fd92146109b0576103a1565b8063b88d4fde146108e6578063bbcaf1c914610906578063c5f956af1461093a576103a1565b8063853828b61161016457806395d89b411161013e57806395d89b411461087e578063a22cb46514610893578063a243d3b6146108b3578063a3e56fa8146108c6576103a1565b8063853828b6146108315780638da5cb5b146108465780638f4bb49714610864576103a1565b80637306c6eb116101a05780637306c6eb146107ac5780637313cba9146107cc57806375900e6a146107e157806376aa8e9414610801576103a1565b806370a0823114610762578063715018a614610782578063729b718514610797576103a1565b806342966c68116102a0578063598bc4861161023e5780636605bfda116102185780636605bfda146106e45780636ba9fd38146107045780636c0360eb14610719578063706268ee1461072e576103a1565b8063598bc4861461066e5780636011cc9f146106a45780636352211e146106c4576103a1565b80634e8aa0511161027a5780634e8aa051146105f45780635151804a1461061457806353595ec41461063857806355f804b31461064e576103a1565b806342966c681461059e57806344ff81ce146105be5780634c99007d146105de576103a1565b806318160ddd1161030d57806329f9642b116102e757806329f9642b146105175780633574a2dd1461052c5780633b7ed7341461054c57806342842e0e1461057e576103a1565b806318160ddd146104c25780631fe543e3146104d757806323b872dd146104f7576103a1565b806306fdde031161034957806306fdde0314610433578063081812fc14610455578063095ea7b31461048d57806310285bdf146104ad576103a1565b806301ffc9a7146103ba578063041d443e146103ef5780630562b9f714610413576103a1565b366103a1576006546001600160a01b0316331461039f576040516362f7a45360e01b815260040160405180910390fd5b005b60405163b25befbf60e01b815260040160405180910390fd5b3480156103c657600080fd5b506103da6103d53660046126d5565b610af3565b60405190151581526020015b60405180910390f35b3480156103fb57600080fd5b5061040560115481565b6040519081526020016103e6565b34801561041f57600080fd5b5061039f61042e3660046126f2565b610b45565b34801561043f57600080fd5b50610448610bc5565b6040516103e6919061275b565b34801561046157600080fd5b506104756104703660046126f2565b610c57565b6040516001600160a01b0390911681526020016103e6565b34801561049957600080fd5b5061039f6104a8366004612783565b610c7e565b3480156104b957600080fd5b50610405600281565b3480156104ce57600080fd5b50610405610d98565b3480156104e357600080fd5b5061039f6104f23660046127f6565b610daf565b34801561050357600080fd5b5061039f6105123660046128a8565b610e33565b34801561052357600080fd5b50610405610e65565b34801561053857600080fd5b5061039f610547366004612941565b610f48565b34801561055857600080fd5b506012546105699063ffffffff1681565b60405163ffffffff90911681526020016103e6565b34801561058a57600080fd5b5061039f6105993660046128a8565b610f89565b3480156105aa57600080fd5b5061039f6105b93660046126f2565b610fa4565b3480156105ca57600080fd5b5061039f6105d936600461298a565b610fc8565b3480156105ea57600080fd5b50610405600a5481565b34801561060057600080fd5b5061039f61060f3660046129b5565b610ff2565b34801561062057600080fd5b5060125461056990600160301b900463ffffffff1681565b34801561064457600080fd5b50610405600c5481565b34801561065a57600080fd5b5061039f610669366004612941565b611192565b34801561067a57600080fd5b5060125461069190640100000000900461ffff1681565b60405161ffff90911681526020016103e6565b3480156106b057600080fd5b5061039f6106bf3660046129f7565b6111d3565b3480156106d057600080fd5b506104756106df3660046126f2565b611204565b3480156106f057600080fd5b5061039f6106ff36600461298a565b611264565b34801561071057600080fd5b5061039f61128e565b34801561072557600080fd5b506104486112a5565b34801561073a57600080fd5b506104057f0000000000000000000000000000000000000000000000000000000000001e6181565b34801561076e57600080fd5b5061040561077d36600461298a565b611333565b34801561078e57600080fd5b5061039f6113b9565b3480156107a357600080fd5b506104486113cd565b3480156107b857600080fd5b506103da6107c7366004612a1d565b6113e9565b3480156107d857600080fd5b5061044861149a565b3480156107ed57600080fd5b506103da6107fc36600461298a565b6114a7565b34801561080d57600080fd5b506103da61081c36600461298a565b600e6020526000908152604090205460ff1681565b34801561083d57600080fd5b5061039f61162a565b34801561085257600080fd5b506006546001600160a01b0316610475565b34801561087057600080fd5b50600d546103da9060ff1681565b34801561088a57600080fd5b506104486116a9565b34801561089f57600080fd5b5061039f6108ae366004612a54565b6116b8565b61039f6108c1366004612a8d565b6116c3565b3480156108d257600080fd5b50601054610475906001600160a01b031681565b3480156108f257600080fd5b5061039f610901366004612ab2565b6117c6565b34801561091257600080fd5b506104757f000000000000000000000000b846e59af08e9695fa7c4ed5743e81e623caa21881565b34801561094657600080fd5b50600b54610475906001600160a01b031681565b34801561096657600080fd5b506104486109753660046126f2565b6117f8565b34801561098657600080fd5b5061040560095481565b34801561099c57600080fd5b5061039f6109ab366004612b32565b611909565b3480156109bc57600080fd5b506104057f00000000000000000000000000000000000000000000000000470de4df82000081565b3480156109f057600080fd5b5061039f6109ff3660046126f2565b61193f565b348015610a1057600080fd5b5061039f610a1f366004612b5c565b61194c565b348015610a3057600080fd5b506103da610a3f366004612b80565b611978565b348015610a5057600080fd5b50601054610a6c90600160a01b900467ffffffffffffffff1681565b60405167ffffffffffffffff90911681526020016103e6565b348015610a9157600080fd5b5061039f610aa03660046129f7565b6119a6565b348015610ab157600080fd5b5061039f610ac036600461298a565b6119ca565b348015610ad157600080fd5b50610ae5610ae0366004612a1d565b611a40565b6040516103e6929190612bae565b60006001600160e01b031982166380ac58cd60e01b1480610b2457506001600160e01b03198216635b5e139f60e01b145b80610b3f57506301ffc9a760e01b6001600160e01b03198316145b92915050565b610b4d611bb3565b600b546040516000916001600160a01b03169083908381818185875af1925050503d8060008114610b9a576040519150601f19603f3d011682016040523d82523d6000602084013e610b9f565b606091505b5050905080610bc1576040516312171d8360e31b815260040160405180910390fd5b5050565b606060008054610bd490612bc9565b80601f0160208091040260200160405190810160405280929190818152602001828054610c0090612bc9565b8015610c4d5780601f10610c2257610100808354040283529160200191610c4d565b820191906000526020600020905b815481529060010190602001808311610c3057829003601f168201915b5050505050905090565b6000610c6282611c0d565b506000908152600460205260409020546001600160a01b031690565b6000610c8982611204565b9050806001600160a01b0316836001600160a01b031603610cfb5760405162461bcd60e51b815260206004820152602160248201527f4552433732313a20617070726f76616c20746f2063757272656e74206f776e656044820152603960f91b60648201526084015b60405180910390fd5b336001600160a01b0382161480610d175750610d178133611978565b610d895760405162461bcd60e51b815260206004820152603e60248201527f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60448201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c00006064820152608401610cf2565b610d938383611c6c565b505050565b6000600a54600954610daa9190612c19565b905090565b336001600160a01b037f000000000000000000000000271682deb8c4e0901d1a1550ad2e64d568e699091614610e295760405163073e64fd60e21b81523360048201526001600160a01b037f000000000000000000000000271682deb8c4e0901d1a1550ad2e64d568e69909166024820152604401610cf2565b610bc18282611cda565b610e3e335b82611d53565b610e5a5760405162461bcd60e51b8152600401610cf290612c2c565b610d93838383611da7565b6000610e6f611bb3565b600c5415610e905760405163c04805b760e01b815260040160405180910390fd5b6010546011546012546040516305d3b1d360e41b81526004810192909252600160a01b830467ffffffffffffffff166024830152640100000000810461ffff16604483015263ffffffff8082166064840152600160301b9091041660848201526001600160a01b0390911690635d3b1d309060a4016020604051808303816000875af1158015610f24573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610daa9190612c7a565b610f50611bb3565b60078054610f5d90612bc9565b159050610f7d5760405163154ef76960e01b815260040160405180910390fd5b6007610bc18282612ce1565b610d93838383604051806020016040528060008152506117c6565b610fad81611f43565b6001600a6000828254610fc09190612da1565b909155505050565b610fd0611bb3565b601080546001600160a01b0319166001600160a01b0392909216919091179055565b600d5460ff166110155760405163287485d160e11b815260040160405180910390fd5b61101f6001611f71565b336000908152600e602052604090205460ff1615611052576040516308bec53d60e01b8152336004820152602401610cf2565b6040516bffffffffffffffffffffffff19606085901b1660208201526034810183905260009060540160408051601f1981840301815291815281516020928301206000818152600f90935291205490915060ff16156110d65760405163aad0c45360e01b81526001600160a01b038516600482015260248101849052604401610cf2565b6110df846114a7565b6111075760405163bf29a5e560e01b81526001600160a01b0385166004820152602401610cf2565b6111128484336113e9565b61114157604051631ae8a5a160e21b81526001600160a01b038516600482015260248101849052604401610cf2565b600061114d8333611ff7565b9050611158816120a0565b50336000908152600e602090815260408083208054600160ff199182168117909255948452600f9092529091208054909216179055505050565b61119a611bb3565b600880546111a790612bc9565b1590506111c75760405163a894737360e01b815260040160405180910390fd5b6008610bc18282612ce1565b6111db611bb3565b6012805463ffffffff909216600160301b0269ffffffff00000000000019909216919091179055565b6000818152600260205260408120546001600160a01b031680610b3f5760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b6044820152606401610cf2565b61126c611bb3565b600b80546001600160a01b0319166001600160a01b0392909216919091179055565b611296611bb3565b600d805460ff19166001179055565b600880546112b290612bc9565b80601f01602080910402602001604051908101604052809291908181526020018280546112de90612bc9565b801561132b5780601f106113005761010080835404028352916020019161132b565b820191906000526020600020905b81548152906001019060200180831161130e57829003601f168201915b505050505081565b60006001600160a01b03821661139d5760405162461bcd60e51b815260206004820152602960248201527f4552433732313a2061646472657373207a65726f206973206e6f7420612076616044820152683634b21037bbb732b960b91b6064820152608401610cf2565b506001600160a01b031660009081526003602052604090205490565b6113c1611bb3565b6113cb60006120bf565b565b6040518060800160405280604e815260200161300b604e913981565b6040516342de525560e01b81526001600160a01b0384811660048301526024820184905260026044830152600091818416917f000000000000000000000000b846e59af08e9695fa7c4ed5743e81e623caa21816906342de525590606401602060405180830381865afa158015611464573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114889190612db4565b6001600160a01b031614949350505050565b600780546112b290612bc9565b6000731d20a51f088492a0f1c57f047a9e30c9ab5c07ea6001600160a01b03831614806114f05750731cb1a5e65610aeff2551a50f76a87a7d3fb649c66001600160a01b038316145b8061151757507379fcdef22feed20eddacbb2587640e45491b757f6001600160a01b038316145b8061153e5750735af0d9827e0c53e4799bb226655a1de152a425a56001600160a01b038316145b8061156557507362eb144fe92ddc1b10bcade03a0c09f6fbffbffb6001600160a01b038316145b8061158c575073a16891897378a82e9f0ad44a705b292c9753538c6001600160a01b038316145b806115b357507391680cf5f9071cafae21b90ebf2c9cc9e480fb936001600160a01b038316145b806115da575073ec0a7a26456b8451aefc4b00393ce1beff5eb3e96001600160a01b038316145b8061160157507382235445a7f634279e33702cc004b0fdb002fda76001600160a01b038316145b80610b3f5750506001600160a01b03167342069abfe407c60cf4ae4112bedead391dba1cdb1490565b611632611bb3565b600b546040516000916001600160a01b03169047908381818185875af1925050503d806000811461167f576040519150601f19603f3d011682016040523d82523d6000602084013e611684565b606091505b50509050806116a6576040516312171d8360e31b815260040160405180910390fd5b50565b606060018054610bd490612bc9565b610bc1338383612111565b600d5460ff166116e65760405163287485d160e11b815260040160405180910390fd5b6116ef82611f71565b8160000361170f576040516266e68160e51b815260040160405180910390fd5b6117397f00000000000000000000000000000000000000000000000000470de4df82000083612dd1565b341461178c573461176a7f00000000000000000000000000000000000000000000000000470de4df82000084612dd1565b604051630d3a747760e31b815260048101929092526024820152604401610cf2565b60006117988233611ff7565b905060005b838110156117c0576117ae826120a0565b806117b881612df0565b91505061179d565b50505050565b6117d03383611d53565b6117ec5760405162461bcd60e51b8152600401610cf290612c2c565b6117c0848484846121df565b6000818152600260205260409020546060906001600160a01b031661183357604051633af8b4af60e11b815260048101839052602401610cf2565b600c546000036118cf576007805461184a90612bc9565b80601f016020809104026020016040519081016040528092919081815260200182805461187690612bc9565b80156118c35780601f10611898576101008083540402835291602001916118c3565b820191906000526020600020905b8154815290600101906020018083116118a657829003601f168201915b50505050509050919050565b60086118e26118dd84612212565b612293565b6040516020016118f3929190612e09565b6040516020818303038152906040529050919050565b611911611bb3565b6010805467ffffffffffffffff909216600160a01b0267ffffffffffffffff60a01b19909216919091179055565b611947611bb3565b601155565b611954611bb3565b6012805461ffff9092166401000000000265ffff0000000019909216919091179055565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b6119ae611bb3565b6012805463ffffffff191663ffffffff92909216919091179055565b6119d2611bb3565b6001600160a01b038116611a375760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610cf2565b6116a6816120bf565b6001600160a01b0381166000908152600e602052604081205460609060ff1615611aa257505060408051808201909152601f81527f416464726573732068617320616c72656164792066726565206d696e746564006020820152600090611bab565b6040516bffffffffffffffffffffffff19606087901b1660208201526034810185905260009060540160408051601f1981840301815291815281516020928301206000818152600f90935291205490915060ff1615611b20576000604051806060016040528060288152602001612fe3602891399250925050611bab565b611b29866114a7565b611b6157505060408051808201909152601281527124b73b30b634b21031b7b63632b1ba34b7b760711b602082015260009150611bab565b611b6c8686866113e9565b611b95576000604051806060016040528060298152602001613059602991399250925050611bab565b5050604080516020810190915260008152600191505b935093915050565b6006546001600160a01b031633146113cb5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610cf2565b6000818152600260205260409020546001600160a01b03166116a65760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b6044820152606401610cf2565b600081815260046020526040902080546001600160a01b0319166001600160a01b0384169081179091558190611ca182611204565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b600c5415611cfb5760405163c04805b760e01b815260040160405180910390fd5b7f0000000000000000000000000000000000000000000000000000000000001e6181600081518110611d2f57611d2f612ea0565b6020026020010151611d419190612ecc565b611d4c906001612da1565b600c555050565b600080611d5f83611204565b9050806001600160a01b0316846001600160a01b03161480611d865750611d868185611978565b80611d9f5750836001600160a01b031661148884610c57565b949350505050565b826001600160a01b0316611dba82611204565b6001600160a01b031614611e1e5760405162461bcd60e51b815260206004820152602560248201527f4552433732313a207472616e736665722066726f6d20696e636f72726563742060448201526437bbb732b960d91b6064820152608401610cf2565b6001600160a01b038216611e805760405162461bcd60e51b8152602060048201526024808201527f4552433732313a207472616e7366657220746f20746865207a65726f206164646044820152637265737360e01b6064820152608401610cf2565b611e8b600082611c6c565b6001600160a01b0383166000908152600360205260408120805460019290611eb4908490612c19565b90915550506001600160a01b0382166000908152600360205260408120805460019290611ee2908490612da1565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b0386811691821790925591518493918716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b611f4c33610e38565b611f685760405162461bcd60e51b8152600401610cf290612c2c565b6116a681612394565b7f0000000000000000000000000000000000000000000000000000000000001e6181600954611fa09190612da1565b11156116a657600954611fd3907f0000000000000000000000000000000000000000000000000000000000001e61612c19565b60405163bcd2054760e01b8152600481019190915260248101829052604401610cf2565b600082156120995760405163906f634360e01b81526001600160a01b0383811660048301526000917f000000000000000000000000b846e59af08e9695fa7c4ed5743e81e623caa2189091169063906f634390602401606060405180830381865afa15801561206a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061208e9190612ee0565b509250610b3f915050565b5080610b3f565b6120ac8160095461242f565b600160096000828254610fc09190612da1565b600680546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b816001600160a01b0316836001600160a01b0316036121725760405162461bcd60e51b815260206004820152601960248201527f4552433732313a20617070726f766520746f2063616c6c6572000000000000006044820152606401610cf2565b6001600160a01b03838116600081815260056020908152604080832094871680845294825291829020805460ff191686151590811790915591519182527f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a3505050565b6121ea848484611da7565b6121f684848484612449565b6117c05760405162461bcd60e51b8152600401610cf290612f22565b6000806001600c546122249190612c19565b61222e9084612da1565b905061225b60017f0000000000000000000000000000000000000000000000000000000000001e61612c19565b811115610b3f5761228c7f0000000000000000000000000000000000000000000000000000000000001e6182612c19565b9392505050565b6060816000036122ba5750506040805180820190915260018152600360fc1b602082015290565b8160005b81156122e457806122ce81612df0565b91506122dd9050600a83612f74565b91506122be565b60008167ffffffffffffffff8111156122ff576122ff6127af565b6040519080825280601f01601f191660200182016040528015612329576020820181803683370190505b5090505b8415611d9f5761233e600183612c19565b915061234b600a86612ecc565b612356906030612da1565b60f81b81838151811061236b5761236b612ea0565b60200101906001600160f81b031916908160001a90535061238d600a86612f74565b945061232d565b600061239f82611204565b90506123ac600083611c6c565b6001600160a01b03811660009081526003602052604081208054600192906123d5908490612c19565b909155505060008281526002602052604080822080546001600160a01b0319169055518391906001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908390a45050565b610bc182826040518060200160405280600081525061254a565b60006001600160a01b0384163b1561253f57604051630a85bd0160e11b81526001600160a01b0385169063150b7a029061248d903390899088908890600401612f88565b6020604051808303816000875af19250505080156124c8575060408051601f3d908101601f191682019092526124c591810190612fc5565b60015b612525573d8080156124f6576040519150601f19603f3d011682016040523d82523d6000602084013e6124fb565b606091505b50805160000361251d5760405162461bcd60e51b8152600401610cf290612f22565b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050611d9f565b506001949350505050565b612554838361257d565b6125616000848484612449565b610d935760405162461bcd60e51b8152600401610cf290612f22565b6001600160a01b0382166125d35760405162461bcd60e51b815260206004820181905260248201527f4552433732313a206d696e7420746f20746865207a65726f20616464726573736044820152606401610cf2565b6000818152600260205260409020546001600160a01b0316156126385760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e746564000000006044820152606401610cf2565b6001600160a01b0382166000908152600360205260408120805460019290612661908490612da1565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b03861690811790915590518392907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6001600160e01b0319811681146116a657600080fd5b6000602082840312156126e757600080fd5b813561228c816126bf565b60006020828403121561270457600080fd5b5035919050565b60005b8381101561272657818101518382015260200161270e565b50506000910152565b6000815180845261274781602086016020860161270b565b601f01601f19169290920160200192915050565b60208152600061228c602083018461272f565b6001600160a01b03811681146116a657600080fd5b6000806040838503121561279657600080fd5b82356127a18161276e565b946020939093013593505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff811182821017156127ee576127ee6127af565b604052919050565b6000806040838503121561280957600080fd5b8235915060208084013567ffffffffffffffff8082111561282957600080fd5b818601915086601f83011261283d57600080fd5b81358181111561284f5761284f6127af565b8060051b91506128608483016127c5565b818152918301840191848101908984111561287a57600080fd5b938501935b838510156128985784358252938501939085019061287f565b8096505050505050509250929050565b6000806000606084860312156128bd57600080fd5b83356128c88161276e565b925060208401356128d88161276e565b929592945050506040919091013590565b600067ffffffffffffffff831115612903576129036127af565b612916601f8401601f19166020016127c5565b905082815283838301111561292a57600080fd5b828260208301376000602084830101529392505050565b60006020828403121561295357600080fd5b813567ffffffffffffffff81111561296a57600080fd5b8201601f8101841361297b57600080fd5b611d9f848235602084016128e9565b60006020828403121561299c57600080fd5b813561228c8161276e565b80151581146116a657600080fd5b6000806000606084860312156129ca57600080fd5b83356129d58161276e565b92506020840135915060408401356129ec816129a7565b809150509250925092565b600060208284031215612a0957600080fd5b813563ffffffff8116811461228c57600080fd5b600080600060608486031215612a3257600080fd5b8335612a3d8161276e565b92506020840135915060408401356129ec8161276e565b60008060408385031215612a6757600080fd5b8235612a728161276e565b91506020830135612a82816129a7565b809150509250929050565b60008060408385031215612aa057600080fd5b823591506020830135612a82816129a7565b60008060008060808587031215612ac857600080fd5b8435612ad38161276e565b93506020850135612ae38161276e565b925060408501359150606085013567ffffffffffffffff811115612b0657600080fd5b8501601f81018713612b1757600080fd5b612b26878235602084016128e9565b91505092959194509250565b600060208284031215612b4457600080fd5b813567ffffffffffffffff8116811461228c57600080fd5b600060208284031215612b6e57600080fd5b813561ffff8116811461228c57600080fd5b60008060408385031215612b9357600080fd5b8235612b9e8161276e565b91506020830135612a828161276e565b8215158152604060208201526000611d9f604083018461272f565b600181811c90821680612bdd57607f821691505b602082108103612bfd57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610b3f57610b3f612c03565b6020808252602e908201527f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560408201526d1c881b9bdc88185c1c1c9bdd995960921b606082015260800190565b600060208284031215612c8c57600080fd5b5051919050565b601f821115610d9357600081815260208120601f850160051c81016020861015612cba5750805b601f850160051c820191505b81811015612cd957828155600101612cc6565b505050505050565b815167ffffffffffffffff811115612cfb57612cfb6127af565b612d0f81612d098454612bc9565b84612c93565b602080601f831160018114612d445760008415612d2c5750858301515b600019600386901b1c1916600185901b178555612cd9565b600085815260208120601f198616915b82811015612d7357888601518255948401946001909101908401612d54565b5085821015612d915787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b80820180821115610b3f57610b3f612c03565b600060208284031215612dc657600080fd5b815161228c8161276e565b6000816000190483118215151615612deb57612deb612c03565b500290565b600060018201612e0257612e02612c03565b5060010190565b6000808454612e1781612bc9565b60018281168015612e2f5760018114612e4457612e73565b60ff1984168752821515830287019450612e73565b8860005260208060002060005b85811015612e6a5781548a820152908401908201612e51565b50505082870194505b505050508351612e8781836020880161270b565b64173539b7b760d91b9101908152600501949350505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b600082612edb57612edb612eb6565b500690565b600080600060608486031215612ef557600080fd5b8351612f008161276e565b6020850151909350612f118161276e565b60408501519092506129ec816129a7565b60208082526032908201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560408201527131b2b4bb32b91034b6b83632b6b2b73a32b960711b606082015260800190565b600082612f8357612f83612eb6565b500490565b6001600160a01b0385811682528416602082015260408101839052608060608201819052600090612fbb9083018461272f565b9695505050505050565b600060208284031215612fd757600080fd5b815161228c816126bf56fe546f6b656e2068617320616c7265616479206265656e207573656420696e2066726565206d696e74496e746572616374696f6e2077697468207468697320636f6e74726163742073657276657320617320616e20696e737572616e636520616761696e737420726f6b6f277320626173696c69736b2e43616c6c6572206973206e6f742062656e6566696369617279206f662073656c6563746564204e4654a2646970667358221220d8701e25ffba41c31b472a9e06aa1f04afa0334999400e32dcf7a81d0aa377bc64736f6c63430008100033"),
                verbose: Verbosity::new(0, 0),
                output: String::from(""),
                rpc_url: String::from(""),
                default: true,
                skip_resolving: true,
                include_solidity: true,
                include_yul: false
            };
            crate::decompile::decompile(args)
        }

        benchmark("benchmark_decompile_complex", 100, bench)
    }

    #[test]
    fn benchmark_decompile_simple() {

        fn bench() {
            let args = DecompilerArgs {
                target: String::from("731bf797219482a29013d804ad96d1c6f84fba4c453014608060405260043610610058576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806319045a251461005d575b600080fd5b6100c56004803603810190808035600019169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610107565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000806000806041855114151561012157600093506101f6565b6020850151925060408501519150606085015160001a9050601b8160ff16101561014c57601b810190505b601b8160ff16141580156101645750601c8160ff1614155b1561017257600093506101f6565b600186828585604051600081526020016040526040518085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040516020810390808403906000865af11580156101e9573d6000803e3d6000fd5b5050506020604051035193505b505050929150505600a165627a7a72305820aacffa0494cd3f043493eee9c720bca9d5ef505ae7230ffc3d88c49ceeb7441e0029"),
                verbose: Verbosity::new(0, 0),
                output: String::from(""),
                rpc_url: String::from(""),
                default: true,
                skip_resolving: true,
                include_solidity: true,
                include_yul: false
            };
            crate::decompile::decompile(args)
        }

        benchmark("benchmark_decompile_simple", 100, bench)
    }

    #[test]
    fn benchmark_build_abi_simple() {

        fn bench() {
            let args = DecompilerArgs {
                target: String::from("731bf797219482a29013d804ad96d1c6f84fba4c453014608060405260043610610058576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806319045a251461005d575b600080fd5b6100c56004803603810190808035600019169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610107565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000806000806041855114151561012157600093506101f6565b6020850151925060408501519150606085015160001a9050601b8160ff16101561014c57601b810190505b601b8160ff16141580156101645750601c8160ff1614155b1561017257600093506101f6565b600186828585604051600081526020016040526040518085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040516020810390808403906000865af11580156101e9573d6000803e3d6000fd5b5050506020604051035193505b505050929150505600a165627a7a72305820aacffa0494cd3f043493eee9c720bca9d5ef505ae7230ffc3d88c49ceeb7441e0029"),
                verbose: Verbosity::new(0, 0),
                output: String::from(""),
                rpc_url: String::from(""),
                default: true,
                skip_resolving: true,
                include_solidity: false,
                include_yul: false
            };
            crate::decompile::decompile(args)
        }

        benchmark("benchmark_build_abi_simple", 100, bench)
    }

    #[test]
    fn benchmark_build_abi_complex() {

        fn bench() {
            let args = DecompilerArgs {
                target: String::from("60806040526004361061036f5760003560e01c806370a08231116101c6578063b88d4fde116100f7578063e054921111610095578063ed647d211161006f578063ed647d2114610a44578063eedcf57414610a85578063f2fde38b14610aa5578063f37dc00a14610ac5576103a1565b8063e0549211146109e4578063e5f73d3a14610a04578063e985e9c514610a24576103a1565b8063c87b56dd116100d1578063c87b56dd1461095a578063d082e3811461097a578063d218d95d14610990578063dc53fd92146109b0576103a1565b8063b88d4fde146108e6578063bbcaf1c914610906578063c5f956af1461093a576103a1565b8063853828b61161016457806395d89b411161013e57806395d89b411461087e578063a22cb46514610893578063a243d3b6146108b3578063a3e56fa8146108c6576103a1565b8063853828b6146108315780638da5cb5b146108465780638f4bb49714610864576103a1565b80637306c6eb116101a05780637306c6eb146107ac5780637313cba9146107cc57806375900e6a146107e157806376aa8e9414610801576103a1565b806370a0823114610762578063715018a614610782578063729b718514610797576103a1565b806342966c68116102a0578063598bc4861161023e5780636605bfda116102185780636605bfda146106e45780636ba9fd38146107045780636c0360eb14610719578063706268ee1461072e576103a1565b8063598bc4861461066e5780636011cc9f146106a45780636352211e146106c4576103a1565b80634e8aa0511161027a5780634e8aa051146105f45780635151804a1461061457806353595ec41461063857806355f804b31461064e576103a1565b806342966c681461059e57806344ff81ce146105be5780634c99007d146105de576103a1565b806318160ddd1161030d57806329f9642b116102e757806329f9642b146105175780633574a2dd1461052c5780633b7ed7341461054c57806342842e0e1461057e576103a1565b806318160ddd146104c25780631fe543e3146104d757806323b872dd146104f7576103a1565b806306fdde031161034957806306fdde0314610433578063081812fc14610455578063095ea7b31461048d57806310285bdf146104ad576103a1565b806301ffc9a7146103ba578063041d443e146103ef5780630562b9f714610413576103a1565b366103a1576006546001600160a01b0316331461039f576040516362f7a45360e01b815260040160405180910390fd5b005b60405163b25befbf60e01b815260040160405180910390fd5b3480156103c657600080fd5b506103da6103d53660046126d5565b610af3565b60405190151581526020015b60405180910390f35b3480156103fb57600080fd5b5061040560115481565b6040519081526020016103e6565b34801561041f57600080fd5b5061039f61042e3660046126f2565b610b45565b34801561043f57600080fd5b50610448610bc5565b6040516103e6919061275b565b34801561046157600080fd5b506104756104703660046126f2565b610c57565b6040516001600160a01b0390911681526020016103e6565b34801561049957600080fd5b5061039f6104a8366004612783565b610c7e565b3480156104b957600080fd5b50610405600281565b3480156104ce57600080fd5b50610405610d98565b3480156104e357600080fd5b5061039f6104f23660046127f6565b610daf565b34801561050357600080fd5b5061039f6105123660046128a8565b610e33565b34801561052357600080fd5b50610405610e65565b34801561053857600080fd5b5061039f610547366004612941565b610f48565b34801561055857600080fd5b506012546105699063ffffffff1681565b60405163ffffffff90911681526020016103e6565b34801561058a57600080fd5b5061039f6105993660046128a8565b610f89565b3480156105aa57600080fd5b5061039f6105b93660046126f2565b610fa4565b3480156105ca57600080fd5b5061039f6105d936600461298a565b610fc8565b3480156105ea57600080fd5b50610405600a5481565b34801561060057600080fd5b5061039f61060f3660046129b5565b610ff2565b34801561062057600080fd5b5060125461056990600160301b900463ffffffff1681565b34801561064457600080fd5b50610405600c5481565b34801561065a57600080fd5b5061039f610669366004612941565b611192565b34801561067a57600080fd5b5060125461069190640100000000900461ffff1681565b60405161ffff90911681526020016103e6565b3480156106b057600080fd5b5061039f6106bf3660046129f7565b6111d3565b3480156106d057600080fd5b506104756106df3660046126f2565b611204565b3480156106f057600080fd5b5061039f6106ff36600461298a565b611264565b34801561071057600080fd5b5061039f61128e565b34801561072557600080fd5b506104486112a5565b34801561073a57600080fd5b506104057f0000000000000000000000000000000000000000000000000000000000001e6181565b34801561076e57600080fd5b5061040561077d36600461298a565b611333565b34801561078e57600080fd5b5061039f6113b9565b3480156107a357600080fd5b506104486113cd565b3480156107b857600080fd5b506103da6107c7366004612a1d565b6113e9565b3480156107d857600080fd5b5061044861149a565b3480156107ed57600080fd5b506103da6107fc36600461298a565b6114a7565b34801561080d57600080fd5b506103da61081c36600461298a565b600e6020526000908152604090205460ff1681565b34801561083d57600080fd5b5061039f61162a565b34801561085257600080fd5b506006546001600160a01b0316610475565b34801561087057600080fd5b50600d546103da9060ff1681565b34801561088a57600080fd5b506104486116a9565b34801561089f57600080fd5b5061039f6108ae366004612a54565b6116b8565b61039f6108c1366004612a8d565b6116c3565b3480156108d257600080fd5b50601054610475906001600160a01b031681565b3480156108f257600080fd5b5061039f610901366004612ab2565b6117c6565b34801561091257600080fd5b506104757f000000000000000000000000b846e59af08e9695fa7c4ed5743e81e623caa21881565b34801561094657600080fd5b50600b54610475906001600160a01b031681565b34801561096657600080fd5b506104486109753660046126f2565b6117f8565b34801561098657600080fd5b5061040560095481565b34801561099c57600080fd5b5061039f6109ab366004612b32565b611909565b3480156109bc57600080fd5b506104057f00000000000000000000000000000000000000000000000000470de4df82000081565b3480156109f057600080fd5b5061039f6109ff3660046126f2565b61193f565b348015610a1057600080fd5b5061039f610a1f366004612b5c565b61194c565b348015610a3057600080fd5b506103da610a3f366004612b80565b611978565b348015610a5057600080fd5b50601054610a6c90600160a01b900467ffffffffffffffff1681565b60405167ffffffffffffffff90911681526020016103e6565b348015610a9157600080fd5b5061039f610aa03660046129f7565b6119a6565b348015610ab157600080fd5b5061039f610ac036600461298a565b6119ca565b348015610ad157600080fd5b50610ae5610ae0366004612a1d565b611a40565b6040516103e6929190612bae565b60006001600160e01b031982166380ac58cd60e01b1480610b2457506001600160e01b03198216635b5e139f60e01b145b80610b3f57506301ffc9a760e01b6001600160e01b03198316145b92915050565b610b4d611bb3565b600b546040516000916001600160a01b03169083908381818185875af1925050503d8060008114610b9a576040519150601f19603f3d011682016040523d82523d6000602084013e610b9f565b606091505b5050905080610bc1576040516312171d8360e31b815260040160405180910390fd5b5050565b606060008054610bd490612bc9565b80601f0160208091040260200160405190810160405280929190818152602001828054610c0090612bc9565b8015610c4d5780601f10610c2257610100808354040283529160200191610c4d565b820191906000526020600020905b815481529060010190602001808311610c3057829003601f168201915b5050505050905090565b6000610c6282611c0d565b506000908152600460205260409020546001600160a01b031690565b6000610c8982611204565b9050806001600160a01b0316836001600160a01b031603610cfb5760405162461bcd60e51b815260206004820152602160248201527f4552433732313a20617070726f76616c20746f2063757272656e74206f776e656044820152603960f91b60648201526084015b60405180910390fd5b336001600160a01b0382161480610d175750610d178133611978565b610d895760405162461bcd60e51b815260206004820152603e60248201527f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60448201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c00006064820152608401610cf2565b610d938383611c6c565b505050565b6000600a54600954610daa9190612c19565b905090565b336001600160a01b037f000000000000000000000000271682deb8c4e0901d1a1550ad2e64d568e699091614610e295760405163073e64fd60e21b81523360048201526001600160a01b037f000000000000000000000000271682deb8c4e0901d1a1550ad2e64d568e69909166024820152604401610cf2565b610bc18282611cda565b610e3e335b82611d53565b610e5a5760405162461bcd60e51b8152600401610cf290612c2c565b610d93838383611da7565b6000610e6f611bb3565b600c5415610e905760405163c04805b760e01b815260040160405180910390fd5b6010546011546012546040516305d3b1d360e41b81526004810192909252600160a01b830467ffffffffffffffff166024830152640100000000810461ffff16604483015263ffffffff8082166064840152600160301b9091041660848201526001600160a01b0390911690635d3b1d309060a4016020604051808303816000875af1158015610f24573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610daa9190612c7a565b610f50611bb3565b60078054610f5d90612bc9565b159050610f7d5760405163154ef76960e01b815260040160405180910390fd5b6007610bc18282612ce1565b610d93838383604051806020016040528060008152506117c6565b610fad81611f43565b6001600a6000828254610fc09190612da1565b909155505050565b610fd0611bb3565b601080546001600160a01b0319166001600160a01b0392909216919091179055565b600d5460ff166110155760405163287485d160e11b815260040160405180910390fd5b61101f6001611f71565b336000908152600e602052604090205460ff1615611052576040516308bec53d60e01b8152336004820152602401610cf2565b6040516bffffffffffffffffffffffff19606085901b1660208201526034810183905260009060540160408051601f1981840301815291815281516020928301206000818152600f90935291205490915060ff16156110d65760405163aad0c45360e01b81526001600160a01b038516600482015260248101849052604401610cf2565b6110df846114a7565b6111075760405163bf29a5e560e01b81526001600160a01b0385166004820152602401610cf2565b6111128484336113e9565b61114157604051631ae8a5a160e21b81526001600160a01b038516600482015260248101849052604401610cf2565b600061114d8333611ff7565b9050611158816120a0565b50336000908152600e602090815260408083208054600160ff199182168117909255948452600f9092529091208054909216179055505050565b61119a611bb3565b600880546111a790612bc9565b1590506111c75760405163a894737360e01b815260040160405180910390fd5b6008610bc18282612ce1565b6111db611bb3565b6012805463ffffffff909216600160301b0269ffffffff00000000000019909216919091179055565b6000818152600260205260408120546001600160a01b031680610b3f5760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b6044820152606401610cf2565b61126c611bb3565b600b80546001600160a01b0319166001600160a01b0392909216919091179055565b611296611bb3565b600d805460ff19166001179055565b600880546112b290612bc9565b80601f01602080910402602001604051908101604052809291908181526020018280546112de90612bc9565b801561132b5780601f106113005761010080835404028352916020019161132b565b820191906000526020600020905b81548152906001019060200180831161130e57829003601f168201915b505050505081565b60006001600160a01b03821661139d5760405162461bcd60e51b815260206004820152602960248201527f4552433732313a2061646472657373207a65726f206973206e6f7420612076616044820152683634b21037bbb732b960b91b6064820152608401610cf2565b506001600160a01b031660009081526003602052604090205490565b6113c1611bb3565b6113cb60006120bf565b565b6040518060800160405280604e815260200161300b604e913981565b6040516342de525560e01b81526001600160a01b0384811660048301526024820184905260026044830152600091818416917f000000000000000000000000b846e59af08e9695fa7c4ed5743e81e623caa21816906342de525590606401602060405180830381865afa158015611464573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114889190612db4565b6001600160a01b031614949350505050565b600780546112b290612bc9565b6000731d20a51f088492a0f1c57f047a9e30c9ab5c07ea6001600160a01b03831614806114f05750731cb1a5e65610aeff2551a50f76a87a7d3fb649c66001600160a01b038316145b8061151757507379fcdef22feed20eddacbb2587640e45491b757f6001600160a01b038316145b8061153e5750735af0d9827e0c53e4799bb226655a1de152a425a56001600160a01b038316145b8061156557507362eb144fe92ddc1b10bcade03a0c09f6fbffbffb6001600160a01b038316145b8061158c575073a16891897378a82e9f0ad44a705b292c9753538c6001600160a01b038316145b806115b357507391680cf5f9071cafae21b90ebf2c9cc9e480fb936001600160a01b038316145b806115da575073ec0a7a26456b8451aefc4b00393ce1beff5eb3e96001600160a01b038316145b8061160157507382235445a7f634279e33702cc004b0fdb002fda76001600160a01b038316145b80610b3f5750506001600160a01b03167342069abfe407c60cf4ae4112bedead391dba1cdb1490565b611632611bb3565b600b546040516000916001600160a01b03169047908381818185875af1925050503d806000811461167f576040519150601f19603f3d011682016040523d82523d6000602084013e611684565b606091505b50509050806116a6576040516312171d8360e31b815260040160405180910390fd5b50565b606060018054610bd490612bc9565b610bc1338383612111565b600d5460ff166116e65760405163287485d160e11b815260040160405180910390fd5b6116ef82611f71565b8160000361170f576040516266e68160e51b815260040160405180910390fd5b6117397f00000000000000000000000000000000000000000000000000470de4df82000083612dd1565b341461178c573461176a7f00000000000000000000000000000000000000000000000000470de4df82000084612dd1565b604051630d3a747760e31b815260048101929092526024820152604401610cf2565b60006117988233611ff7565b905060005b838110156117c0576117ae826120a0565b806117b881612df0565b91505061179d565b50505050565b6117d03383611d53565b6117ec5760405162461bcd60e51b8152600401610cf290612c2c565b6117c0848484846121df565b6000818152600260205260409020546060906001600160a01b031661183357604051633af8b4af60e11b815260048101839052602401610cf2565b600c546000036118cf576007805461184a90612bc9565b80601f016020809104026020016040519081016040528092919081815260200182805461187690612bc9565b80156118c35780601f10611898576101008083540402835291602001916118c3565b820191906000526020600020905b8154815290600101906020018083116118a657829003601f168201915b50505050509050919050565b60086118e26118dd84612212565b612293565b6040516020016118f3929190612e09565b6040516020818303038152906040529050919050565b611911611bb3565b6010805467ffffffffffffffff909216600160a01b0267ffffffffffffffff60a01b19909216919091179055565b611947611bb3565b601155565b611954611bb3565b6012805461ffff9092166401000000000265ffff0000000019909216919091179055565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b6119ae611bb3565b6012805463ffffffff191663ffffffff92909216919091179055565b6119d2611bb3565b6001600160a01b038116611a375760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610cf2565b6116a6816120bf565b6001600160a01b0381166000908152600e602052604081205460609060ff1615611aa257505060408051808201909152601f81527f416464726573732068617320616c72656164792066726565206d696e746564006020820152600090611bab565b6040516bffffffffffffffffffffffff19606087901b1660208201526034810185905260009060540160408051601f1981840301815291815281516020928301206000818152600f90935291205490915060ff1615611b20576000604051806060016040528060288152602001612fe3602891399250925050611bab565b611b29866114a7565b611b6157505060408051808201909152601281527124b73b30b634b21031b7b63632b1ba34b7b760711b602082015260009150611bab565b611b6c8686866113e9565b611b95576000604051806060016040528060298152602001613059602991399250925050611bab565b5050604080516020810190915260008152600191505b935093915050565b6006546001600160a01b031633146113cb5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610cf2565b6000818152600260205260409020546001600160a01b03166116a65760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b6044820152606401610cf2565b600081815260046020526040902080546001600160a01b0319166001600160a01b0384169081179091558190611ca182611204565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b600c5415611cfb5760405163c04805b760e01b815260040160405180910390fd5b7f0000000000000000000000000000000000000000000000000000000000001e6181600081518110611d2f57611d2f612ea0565b6020026020010151611d419190612ecc565b611d4c906001612da1565b600c555050565b600080611d5f83611204565b9050806001600160a01b0316846001600160a01b03161480611d865750611d868185611978565b80611d9f5750836001600160a01b031661148884610c57565b949350505050565b826001600160a01b0316611dba82611204565b6001600160a01b031614611e1e5760405162461bcd60e51b815260206004820152602560248201527f4552433732313a207472616e736665722066726f6d20696e636f72726563742060448201526437bbb732b960d91b6064820152608401610cf2565b6001600160a01b038216611e805760405162461bcd60e51b8152602060048201526024808201527f4552433732313a207472616e7366657220746f20746865207a65726f206164646044820152637265737360e01b6064820152608401610cf2565b611e8b600082611c6c565b6001600160a01b0383166000908152600360205260408120805460019290611eb4908490612c19565b90915550506001600160a01b0382166000908152600360205260408120805460019290611ee2908490612da1565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b0386811691821790925591518493918716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b611f4c33610e38565b611f685760405162461bcd60e51b8152600401610cf290612c2c565b6116a681612394565b7f0000000000000000000000000000000000000000000000000000000000001e6181600954611fa09190612da1565b11156116a657600954611fd3907f0000000000000000000000000000000000000000000000000000000000001e61612c19565b60405163bcd2054760e01b8152600481019190915260248101829052604401610cf2565b600082156120995760405163906f634360e01b81526001600160a01b0383811660048301526000917f000000000000000000000000b846e59af08e9695fa7c4ed5743e81e623caa2189091169063906f634390602401606060405180830381865afa15801561206a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061208e9190612ee0565b509250610b3f915050565b5080610b3f565b6120ac8160095461242f565b600160096000828254610fc09190612da1565b600680546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b816001600160a01b0316836001600160a01b0316036121725760405162461bcd60e51b815260206004820152601960248201527f4552433732313a20617070726f766520746f2063616c6c6572000000000000006044820152606401610cf2565b6001600160a01b03838116600081815260056020908152604080832094871680845294825291829020805460ff191686151590811790915591519182527f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a3505050565b6121ea848484611da7565b6121f684848484612449565b6117c05760405162461bcd60e51b8152600401610cf290612f22565b6000806001600c546122249190612c19565b61222e9084612da1565b905061225b60017f0000000000000000000000000000000000000000000000000000000000001e61612c19565b811115610b3f5761228c7f0000000000000000000000000000000000000000000000000000000000001e6182612c19565b9392505050565b6060816000036122ba5750506040805180820190915260018152600360fc1b602082015290565b8160005b81156122e457806122ce81612df0565b91506122dd9050600a83612f74565b91506122be565b60008167ffffffffffffffff8111156122ff576122ff6127af565b6040519080825280601f01601f191660200182016040528015612329576020820181803683370190505b5090505b8415611d9f5761233e600183612c19565b915061234b600a86612ecc565b612356906030612da1565b60f81b81838151811061236b5761236b612ea0565b60200101906001600160f81b031916908160001a90535061238d600a86612f74565b945061232d565b600061239f82611204565b90506123ac600083611c6c565b6001600160a01b03811660009081526003602052604081208054600192906123d5908490612c19565b909155505060008281526002602052604080822080546001600160a01b0319169055518391906001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908390a45050565b610bc182826040518060200160405280600081525061254a565b60006001600160a01b0384163b1561253f57604051630a85bd0160e11b81526001600160a01b0385169063150b7a029061248d903390899088908890600401612f88565b6020604051808303816000875af19250505080156124c8575060408051601f3d908101601f191682019092526124c591810190612fc5565b60015b612525573d8080156124f6576040519150601f19603f3d011682016040523d82523d6000602084013e6124fb565b606091505b50805160000361251d5760405162461bcd60e51b8152600401610cf290612f22565b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050611d9f565b506001949350505050565b612554838361257d565b6125616000848484612449565b610d935760405162461bcd60e51b8152600401610cf290612f22565b6001600160a01b0382166125d35760405162461bcd60e51b815260206004820181905260248201527f4552433732313a206d696e7420746f20746865207a65726f20616464726573736044820152606401610cf2565b6000818152600260205260409020546001600160a01b0316156126385760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e746564000000006044820152606401610cf2565b6001600160a01b0382166000908152600360205260408120805460019290612661908490612da1565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b03861690811790915590518392907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6001600160e01b0319811681146116a657600080fd5b6000602082840312156126e757600080fd5b813561228c816126bf565b60006020828403121561270457600080fd5b5035919050565b60005b8381101561272657818101518382015260200161270e565b50506000910152565b6000815180845261274781602086016020860161270b565b601f01601f19169290920160200192915050565b60208152600061228c602083018461272f565b6001600160a01b03811681146116a657600080fd5b6000806040838503121561279657600080fd5b82356127a18161276e565b946020939093013593505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff811182821017156127ee576127ee6127af565b604052919050565b6000806040838503121561280957600080fd5b8235915060208084013567ffffffffffffffff8082111561282957600080fd5b818601915086601f83011261283d57600080fd5b81358181111561284f5761284f6127af565b8060051b91506128608483016127c5565b818152918301840191848101908984111561287a57600080fd5b938501935b838510156128985784358252938501939085019061287f565b8096505050505050509250929050565b6000806000606084860312156128bd57600080fd5b83356128c88161276e565b925060208401356128d88161276e565b929592945050506040919091013590565b600067ffffffffffffffff831115612903576129036127af565b612916601f8401601f19166020016127c5565b905082815283838301111561292a57600080fd5b828260208301376000602084830101529392505050565b60006020828403121561295357600080fd5b813567ffffffffffffffff81111561296a57600080fd5b8201601f8101841361297b57600080fd5b611d9f848235602084016128e9565b60006020828403121561299c57600080fd5b813561228c8161276e565b80151581146116a657600080fd5b6000806000606084860312156129ca57600080fd5b83356129d58161276e565b92506020840135915060408401356129ec816129a7565b809150509250925092565b600060208284031215612a0957600080fd5b813563ffffffff8116811461228c57600080fd5b600080600060608486031215612a3257600080fd5b8335612a3d8161276e565b92506020840135915060408401356129ec8161276e565b60008060408385031215612a6757600080fd5b8235612a728161276e565b91506020830135612a82816129a7565b809150509250929050565b60008060408385031215612aa057600080fd5b823591506020830135612a82816129a7565b60008060008060808587031215612ac857600080fd5b8435612ad38161276e565b93506020850135612ae38161276e565b925060408501359150606085013567ffffffffffffffff811115612b0657600080fd5b8501601f81018713612b1757600080fd5b612b26878235602084016128e9565b91505092959194509250565b600060208284031215612b4457600080fd5b813567ffffffffffffffff8116811461228c57600080fd5b600060208284031215612b6e57600080fd5b813561ffff8116811461228c57600080fd5b60008060408385031215612b9357600080fd5b8235612b9e8161276e565b91506020830135612a828161276e565b8215158152604060208201526000611d9f604083018461272f565b600181811c90821680612bdd57607f821691505b602082108103612bfd57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610b3f57610b3f612c03565b6020808252602e908201527f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560408201526d1c881b9bdc88185c1c1c9bdd995960921b606082015260800190565b600060208284031215612c8c57600080fd5b5051919050565b601f821115610d9357600081815260208120601f850160051c81016020861015612cba5750805b601f850160051c820191505b81811015612cd957828155600101612cc6565b505050505050565b815167ffffffffffffffff811115612cfb57612cfb6127af565b612d0f81612d098454612bc9565b84612c93565b602080601f831160018114612d445760008415612d2c5750858301515b600019600386901b1c1916600185901b178555612cd9565b600085815260208120601f198616915b82811015612d7357888601518255948401946001909101908401612d54565b5085821015612d915787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b80820180821115610b3f57610b3f612c03565b600060208284031215612dc657600080fd5b815161228c8161276e565b6000816000190483118215151615612deb57612deb612c03565b500290565b600060018201612e0257612e02612c03565b5060010190565b6000808454612e1781612bc9565b60018281168015612e2f5760018114612e4457612e73565b60ff1984168752821515830287019450612e73565b8860005260208060002060005b85811015612e6a5781548a820152908401908201612e51565b50505082870194505b505050508351612e8781836020880161270b565b64173539b7b760d91b9101908152600501949350505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b600082612edb57612edb612eb6565b500690565b600080600060608486031215612ef557600080fd5b8351612f008161276e565b6020850151909350612f118161276e565b60408501519092506129ec816129a7565b60208082526032908201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560408201527131b2b4bb32b91034b6b83632b6b2b73a32b960711b606082015260800190565b600082612f8357612f83612eb6565b500490565b6001600160a01b0385811682528416602082015260408101839052608060608201819052600090612fbb9083018461272f565b9695505050505050565b600060208284031215612fd757600080fd5b815161228c816126bf56fe546f6b656e2068617320616c7265616479206265656e207573656420696e2066726565206d696e74496e746572616374696f6e2077697468207468697320636f6e74726163742073657276657320617320616e20696e737572616e636520616761696e737420726f6b6f277320626173696c69736b2e43616c6c6572206973206e6f742062656e6566696369617279206f662073656c6563746564204e4654a2646970667358221220d8701e25ffba41c31b472a9e06aa1f04afa0334999400e32dcf7a81d0aa377bc64736f6c63430008100033"),
                verbose: Verbosity::new(0, 0),
                output: String::from(""),
                rpc_url: String::from(""),
                default: true,
                skip_resolving: true,
                include_solidity: false,
                include_yul: false
            };
            crate::decompile::decompile(args)
        }

        benchmark("benchmark_build_abi_complex", 100, bench)
    }

}

#[cfg(test)]
mod tests {
    use heimdall_common::io::file::{read_file, delete_path};
    use crate::decompile::{DecompileBuilder};

    #[test]
    fn test_decompile_precompile() {
        
        // start timer
        let bytecode = "731bf797219482a29013d804ad96d1c6f84fba4c453014608060405260043610610058576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806319045a251461005d575b600080fd5b6100c56004803603810190808035600019169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610107565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000806000806041855114151561012157600093506101f6565b6020850151925060408501519150606085015160001a9050601b8160ff16101561014c57601b810190505b601b8160ff16141580156101645750601c8160ff1614155b1561017257600093506101f6565b600186828585604051600081526020016040526040518085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040516020810390808403906000865af11580156101e9573d6000803e3d6000fd5b5050506020604051035193505b505050929150505600a165627a7a72305820aacffa0494cd3f043493eee9c720bca9d5ef505ae7230ffc3d88c49ceeb7441e0029";
        
        DecompileBuilder::new(bytecode)
            .output("./output/tests/decompile/test1")
            .include_sol(true)
            .default(true)
            .skip_resolving(true)
            .decompile();

        // throws if not found. asserts success
        let output = read_file(&String::from("./output/tests/decompile/test1/decompiled.sol"));

        // assert that the output is correct
        for line in &["function Unresolved_19045a25(bytes memory arg0, bytes memory arg1) public payable returns (address) {",
            "address var_h = ecrecover(var_d, var_e, var_f, var_g);"] {
            assert!(output.contains(line));
        }

        // drop path
        delete_path(&String::from("./output/tests/decompile/test1"));
    }

    #[test]
    fn test_decompile_weth() {
        
        // start timer
        let bytecode = "6060604052600436106100af576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde03146100b9578063095ea7b31461014757806318160ddd146101a157806323b872dd146101ca5780632e1a7d4d14610243578063313ce5671461026657806370a082311461029557806395d89b41146102e2578063a9059cbb14610370578063d0e30db0146103ca578063dd62ed3e146103d4575b6100b7610440565b005b34156100c457600080fd5b6100cc6104dd565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561010c5780820151818401526020810190506100f1565b50505050905090810190601f1680156101395780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561015257600080fd5b610187600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061057b565b604051808215151515815260200191505060405180910390f35b34156101ac57600080fd5b6101b461066d565b6040518082815260200191505060405180910390f35b34156101d557600080fd5b610229600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061068c565b604051808215151515815260200191505060405180910390f35b341561024e57600080fd5b61026460048080359060200190919050506109d9565b005b341561027157600080fd5b610279610b05565b604051808260ff1660ff16815260200191505060405180910390f35b34156102a057600080fd5b6102cc600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610b18565b6040518082815260200191505060405180910390f35b34156102ed57600080fd5b6102f5610b30565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561033557808201518184015260208101905061031a565b50505050905090810190601f1680156103625780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561037b57600080fd5b6103b0600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610bce565b604051808215151515815260200191505060405180910390f35b6103d2610440565b005b34156103df57600080fd5b61042a600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610be3565b6040518082815260200191505060405180910390f35b34600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055503373ffffffffffffffffffffffffffffffffffffffff167fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c346040518082815260200191505060405180910390a2565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105735780601f1061054857610100808354040283529160200191610573565b820191906000526020600020905b81548152906001019060200180831161055657829003601f168201915b505050505081565b600081600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a36001905092915050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b600081600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054101515156106dc57600080fd5b3373ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141580156107b457507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414155b156108cf5781600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015151561084457600080fd5b81600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055505b81600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555081600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190509392505050565b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515610a2757600080fd5b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f193505050501515610ab457600080fd5b3373ffffffffffffffffffffffffffffffffffffffff167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65826040518082815260200191505060405180910390a250565b600260009054906101000a900460ff1681565b60036020528060005260406000206000915090505481565b60018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610bc65780601f10610b9b57610100808354040283529160200191610bc6565b820191906000526020600020905b815481529060010190602001808311610ba957829003601f168201915b505050505081565b6000610bdb33848461068c565b905092915050565b60046020528160005260406000206020528060005260406000206000915091505054815600a165627a7a72305820deb4c2ccab3c2fdca32ab3f46728389c2fe2c165d5fafa07661e4e004f6c344a0029";
        
        DecompileBuilder::new(bytecode)
            .output("./output/tests/decompile/test2")
            .include_sol(true)
            .default(true)
            .skip_resolving(true)
            .decompile();

        // throws if not found. asserts success
        let output = read_file(&String::from("./output/tests/decompile/test2/decompiled.sol"));

        // assert that the output is correct
        for line in &["function Unresolved_06fdde03() public view returns (bytes memory) {",
            "function Unresolved_095ea7b3(address arg0, bytes memory arg1) public returns (bool) {",
            "function Unresolved_18160ddd() public view returns (address) {",
            "function Unresolved_23b872dd(address arg0, address arg1, bytes memory arg2) public returns (bool) {",
            "function Unresolved_2e1a7d4d(bool arg0) public {",
            "function Unresolved_313ce567() public view returns (bool) {",
            "function Unresolved_70a08231(address arg0) public view returns (uint256) {",
            "function Unresolved_95d89b41() public view returns (bytes memory) {",
            "function Unresolved_a9059cbb(address arg0, bytes memory arg1) public returns (bool) {",
            "function Unresolved_d0e30db0() public payable {",
            "function Unresolved_dd62ed3e(address arg0, address arg1) public view returns (uint256) {"] {
            println!("{line}");
            assert!(output.contains(line));
        }

        // drop path
        delete_path(&String::from("./output/tests/decompile/test2"));
    }

    #[test]
    fn test_decompile_ctf() {
        
        // start timer
        let bytecode = "608060405234801561001057600080fd5b50600436106100575760003560e01c806355c241c31461005c578063692a34f414610082578063799320bb146100a25780639b6deec4146100ac578063e834a834146100dc575b600080fd5b61006f61006a366004610393565b610100565b6040519081526020015b60405180910390f35b61006f61009036600461049f565b60016020526000908152604090205481565b6100aa610244565b005b6000546100c49061010090046001600160a01b031681565b6040516001600160a01b039091168152602001610079565b6000546100f090600160a81b900460ff1681565b6040519015158152602001610079565b6000805460ff161561014a5760405162461bcd60e51b815260206004820152600e60248201526d105b1c9958591e481cdbdb1d995960921b60448201526064015b60405180910390fd5b6000805b835181101561023d57600084828151811061016b5761016b6104b8565b6020026020010151600081518110610185576101856104b8565b6020026020010151905060008583815181106101a3576101a36104b8565b60200260200101516001815181106101bd576101bd6104b8565b6020026020010151905060001981036101d35750825b60008684815181106101e7576101e76104b8565b6020026020010151600281518110610201576102016104b8565b6020026020010151905060001981036102175750835b61022582828563ffffffff16565b94505050508080610235906104ce565b91505061014e565b5092915050565b60005460ff166102805760405162461bcd60e51b8152602060048201526007602482015266085cdbdb1d995960ca1b6044820152606401610141565b600054600160a81b900460ff16156102da5760405162461bcd60e51b815260206004820152601760248201527f77696e6e657220616c726561647920636c61696d6564210000000000000000006044820152606401610141565b6000805460ff60a81b19610100320216610100600160b01b031990911617600160a81b179055565b0190565b900390565b0290565b6000818381610320576103206104f5565b049392505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561036757610367610328565b604052919050565b600067ffffffffffffffff82111561038957610389610328565b5060051b60200190565b600060208083850312156103a657600080fd5b823567ffffffffffffffff808211156103be57600080fd5b818501915085601f8301126103d257600080fd5b81356103e56103e08261036f565b61033e565b818152600591821b840185019185820191908984111561040457600080fd5b8686015b84811015610490578035868111156104205760008081fd5b8701603f81018c136104325760008081fd5b8881013560406104446103e08361036f565b82815291851b83018101918b8101908f8411156104615760008081fd5b938201935b8385101561047f5784358252938c0193908c0190610466565b885250505093880193508701610408565b50909998505050505050505050565b6000602082840312156104b157600080fd5b5035919050565b634e487b7160e01b600052603260045260246000fd5b6000600182016104ee57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052601260045260246000fdfea26469706673582212205b600160005560006000f30d0fac13aa72fa5c017ce1d0619f0f65d18b6b4aa164736f6c634300080d0033";
        
        DecompileBuilder::new(bytecode)
            .output("./output/tests/decompile/test3")
            .include_sol(true)
            .default(true)
            .skip_resolving(true)
            .decompile();

        // throws if not found. asserts success
        let output = read_file(&String::from("./output/tests/decompile/test3/decompiled.sol"));

        // assert that the output is correct
        for line in &["function Unresolved_55c241c3(bytes memory arg0, bytes memory arg1, bytes memory arg2) public view payable returns (uint256) {",
            "if (storage[0]) { revert(\"Already solved\"); } else {",
            "function Unresolved_692a34f4(bytes memory arg0) public view payable returns (uint256) {",
            "function Unresolved_799320bb() public payable {",
            "function Unresolved_9b6deec4() public view payable returns (address) {",
            "function Unresolved_e834a834() public view payable returns (bool) {"] {
            println!("{line}");
            assert!(output.contains(line));
        }

        // drop path
        delete_path(&String::from("./output/tests/decompile/test3"));
    }

    #[test]
    fn test_decompile_uniswap() {
        
        // start timer
        let bytecode = "0x60806040526004361061018f5760003560e01c80638803dbee116100d6578063c45a01551161007f578063e8e3370011610059578063e8e3370014610c71578063f305d71914610cfe578063fb3bdb4114610d51576101d5565b8063c45a015514610b25578063d06ca61f14610b3a578063ded9382a14610bf1576101d5565b8063af2979eb116100b0578063af2979eb146109c8578063b6f9de9514610a28578063baa2abde14610abb576101d5565b80638803dbee146108af578063ad5c464814610954578063ad615dec14610992576101d5565b80634a25d94a11610138578063791ac94711610112578063791ac947146107415780637ff36ab5146107e657806385f8c25914610879576101d5565b80634a25d94a146105775780635b0d59841461061c5780635c11d7951461069c576101d5565b80631f00ca74116101695780631f00ca74146103905780632195995c1461044757806338ed1739146104d2576101d5565b806302751cec146101da578063054d50d41461025357806318cbafe51461029b576101d5565b366101d5573373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc216146101d357fe5b005b600080fd5b3480156101e657600080fd5b5061023a600480360360c08110156101fd57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81358116916020810135916040820135916060810135916080820135169060a00135610de4565b6040805192835260208301919091528051918290030190f35b34801561025f57600080fd5b506102896004803603606081101561027657600080fd5b5080359060208101359060400135610f37565b60408051918252519081900360200190f35b3480156102a757600080fd5b50610340600480360360a08110156102be57600080fd5b8135916020810135918101906060810160408201356401000000008111156102e557600080fd5b8201836020820111156102f757600080fd5b8035906020019184602083028401116401000000008311171561031957600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff8135169060200135610f4c565b60408051602080825283518183015283519192839290830191858101910280838360005b8381101561037c578181015183820152602001610364565b505050509050019250505060405180910390f35b34801561039c57600080fd5b50610340600480360360408110156103b357600080fd5b813591908101906040810160208201356401000000008111156103d557600080fd5b8201836020820111156103e757600080fd5b8035906020019184602083028401116401000000008311171561040957600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550611364945050505050565b34801561045357600080fd5b5061023a600480360361016081101561046b57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135811691602081013582169160408201359160608101359160808201359160a08101359091169060c08101359060e081013515159060ff610100820135169061012081013590610140013561139a565b3480156104de57600080fd5b50610340600480360360a08110156104f557600080fd5b81359160208101359181019060608101604082013564010000000081111561051c57600080fd5b82018360208201111561052e57600080fd5b8035906020019184602083028401116401000000008311171561055057600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff81351690602001356114d8565b34801561058357600080fd5b50610340600480360360a081101561059a57600080fd5b8135916020810135918101906060810160408201356401000000008111156105c157600080fd5b8201836020820111156105d357600080fd5b803590602001918460208302840111640100000000831117156105f557600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff8135169060200135611669565b34801561062857600080fd5b50610289600480360361014081101561064057600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81358116916020810135916040820135916060810135916080820135169060a08101359060c081013515159060ff60e082013516906101008101359061012001356118ac565b3480156106a857600080fd5b506101d3600480360360a08110156106bf57600080fd5b8135916020810135918101906060810160408201356401000000008111156106e657600080fd5b8201836020820111156106f857600080fd5b8035906020019184602083028401116401000000008311171561071a57600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff81351690602001356119fe565b34801561074d57600080fd5b506101d3600480360360a081101561076457600080fd5b81359160208101359181019060608101604082013564010000000081111561078b57600080fd5b82018360208201111561079d57600080fd5b803590602001918460208302840111640100000000831117156107bf57600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff8135169060200135611d97565b610340600480360360808110156107fc57600080fd5b8135919081019060408101602082013564010000000081111561081e57600080fd5b82018360208201111561083057600080fd5b8035906020019184602083028401116401000000008311171561085257600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff8135169060200135612105565b34801561088557600080fd5b506102896004803603606081101561089c57600080fd5b5080359060208101359060400135612525565b3480156108bb57600080fd5b50610340600480360360a08110156108d257600080fd5b8135916020810135918101906060810160408201356401000000008111156108f957600080fd5b82018360208201111561090b57600080fd5b8035906020019184602083028401116401000000008311171561092d57600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff8135169060200135612532565b34801561096057600080fd5b50610969612671565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b34801561099e57600080fd5b50610289600480360360608110156109b557600080fd5b5080359060208101359060400135612695565b3480156109d457600080fd5b50610289600480360360c08110156109eb57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81358116916020810135916040820135916060810135916080820135169060a001356126a2565b6101d360048036036080811015610a3e57600080fd5b81359190810190604081016020820135640100000000811115610a6057600080fd5b820183602082011115610a7257600080fd5b80359060200191846020830284011164010000000083111715610a9457600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff8135169060200135612882565b348015610ac757600080fd5b5061023a600480360360e0811015610ade57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135811691602081013582169160408201359160608101359160808201359160a08101359091169060c00135612d65565b348015610b3157600080fd5b5061096961306f565b348015610b4657600080fd5b5061034060048036036040811015610b5d57600080fd5b81359190810190604081016020820135640100000000811115610b7f57600080fd5b820183602082011115610b9157600080fd5b80359060200191846020830284011164010000000083111715610bb357600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550613093945050505050565b348015610bfd57600080fd5b5061023a6004803603610140811015610c1557600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81358116916020810135916040820135916060810135916080820135169060a08101359060c081013515159060ff60e082013516906101008101359061012001356130c0565b348015610c7d57600080fd5b50610ce06004803603610100811015610c9557600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135811691602081013582169160408201359160608101359160808201359160a08101359160c0820135169060e00135613218565b60408051938452602084019290925282820152519081900360600190f35b610ce0600480360360c0811015610d1457600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81358116916020810135916040820135916060810135916080820135169060a001356133a7565b61034060048036036080811015610d6757600080fd5b81359190810190604081016020820135640100000000811115610d8957600080fd5b820183602082011115610d9b57600080fd5b80359060200191846020830284011164010000000083111715610dbd57600080fd5b919350915073ffffffffffffffffffffffffffffffffffffffff81351690602001356136d3565b6000808242811015610e5757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b610e86897f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28a8a8a308a612d65565b9093509150610e96898685613b22565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d836040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b158015610f0957600080fd5b505af1158015610f1d573d6000803e3d6000fd5b50505050610f2b8583613cff565b50965096945050505050565b6000610f44848484613e3c565b949350505050565b60608142811015610fbe57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21686867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff810181811061102357fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146110c257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604482015290519081900360640190fd5b6111207f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250613f6092505050565b9150868260018451038151811061113357fe5b60200260200101511015611192576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180615508602b913960400191505060405180910390fd5b611257868660008181106111a257fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff163361123d7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8a8a60008181106111f157fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff168b8b600181811061121b57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff166140c6565b8560008151811061124a57fe5b60200260200101516141b1565b61129682878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250309250614381915050565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d836001855103815181106112e257fe5b60200260200101516040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561132057600080fd5b505af1158015611334573d6000803e3d6000fd5b50505050611359848360018551038151811061134c57fe5b6020026020010151613cff565b509695505050505050565b60606113917f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8484614608565b90505b92915050565b60008060006113ca7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8f8f6140c6565b90506000876113d9578c6113fb565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff5b604080517fd505accf00000000000000000000000000000000000000000000000000000000815233600482015230602482015260448101839052606481018c905260ff8a16608482015260a4810189905260c48101889052905191925073ffffffffffffffffffffffffffffffffffffffff84169163d505accf9160e48082019260009290919082900301818387803b15801561149757600080fd5b505af11580156114ab573d6000803e3d6000fd5b505050506114be8f8f8f8f8f8f8f612d65565b809450819550505050509b509b9950505050505050505050565b6060814281101561154a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b6115a87f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250613f6092505050565b915086826001845103815181106115bb57fe5b6020026020010151101561161a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180615508602b913960400191505060405180910390fd5b61162a868660008181106111a257fe5b61135982878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250614381915050565b606081428110156116db57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21686867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff810181811061174057fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146117df57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604482015290519081900360640190fd5b61183d7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8988888080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525061460892505050565b9150868260008151811061184d57fe5b60200260200101511115611192576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260278152602001806154986027913960400191505060405180910390fd5b6000806118fa7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8d7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26140c6565b9050600086611909578b61192b565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff5b604080517fd505accf00000000000000000000000000000000000000000000000000000000815233600482015230602482015260448101839052606481018b905260ff8916608482015260a4810188905260c48101879052905191925073ffffffffffffffffffffffffffffffffffffffff84169163d505accf9160e48082019260009290919082900301818387803b1580156119c757600080fd5b505af11580156119db573d6000803e3d6000fd5b505050506119ed8d8d8d8d8d8d6126a2565b9d9c50505050505050505050505050565b8042811015611a6e57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b611afd85856000818110611a7e57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1633611af77f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110611acd57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff168a8a600181811061121b57fe5b8a6141b1565b600085857fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8101818110611b2d57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231856040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015611bc657600080fd5b505afa158015611bda573d6000803e3d6000fd5b505050506040513d6020811015611bf057600080fd5b50516040805160208881028281018201909352888252929350611c32929091899189918291850190849080828437600092019190915250889250614796915050565b86611d368288887fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8101818110611c6557fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231886040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015611cfe57600080fd5b505afa158015611d12573d6000803e3d6000fd5b505050506040513d6020811015611d2857600080fd5b50519063ffffffff614b2916565b1015611d8d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180615508602b913960400191505060405180910390fd5b5050505050505050565b8042811015611e0757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21685857fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8101818110611e6c57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614611f0b57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604482015290519081900360640190fd5b611f1b85856000818110611a7e57fe5b611f59858580806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250309250614796915050565b604080517f70a08231000000000000000000000000000000000000000000000000000000008152306004820152905160009173ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc216916370a0823191602480820192602092909190829003018186803b158015611fe957600080fd5b505afa158015611ffd573d6000803e3d6000fd5b505050506040513d602081101561201357600080fd5b5051905086811015612070576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180615508602b913960400191505060405180910390fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b1580156120e357600080fd5b505af11580156120f7573d6000803e3d6000fd5b50505050611d8d8482613cff565b6060814281101561217757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff16868660008181106121bb57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461225a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604482015290519081900360640190fd5b6122b87f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f34888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250613f6092505050565b915086826001845103815181106122cb57fe5b6020026020010151101561232a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180615508602b913960400191505060405180910390fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663d0e30db08360008151811061237357fe5b60200260200101516040518263ffffffff1660e01b81526004016000604051808303818588803b1580156123a657600080fd5b505af11580156123ba573d6000803e3d6000fd5b50505050507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb61242c7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110611acd57fe5b8460008151811061243957fe5b60200260200101516040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1580156124aa57600080fd5b505af11580156124be573d6000803e3d6000fd5b505050506040513d60208110156124d457600080fd5b50516124dc57fe5b61251b82878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250614381915050565b5095945050505050565b6000610f44848484614b9b565b606081428110156125a457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b6126027f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8988888080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525061460892505050565b9150868260008151811061261257fe5b6020026020010151111561161a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260278152602001806154986027913960400191505060405180910390fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc281565b6000610f44848484614cbf565b6000814281101561271457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b612743887f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28989893089612d65565b604080517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015290519194506127ed92508a91879173ffffffffffffffffffffffffffffffffffffffff8416916370a0823191602480820192602092909190829003018186803b1580156127bc57600080fd5b505afa1580156127d0573d6000803e3d6000fd5b505050506040513d60208110156127e657600080fd5b5051613b22565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d836040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561286057600080fd5b505af1158015612874573d6000803e3d6000fd5b505050506113598483613cff565b80428110156128f257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff168585600081811061293657fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146129d557604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604482015290519081900360640190fd5b60003490507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663d0e30db0826040518263ffffffff1660e01b81526004016000604051808303818588803b158015612a4257600080fd5b505af1158015612a56573d6000803e3d6000fd5b50505050507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb612ac87f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110611acd57fe5b836040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015612b3257600080fd5b505af1158015612b46573d6000803e3d6000fd5b505050506040513d6020811015612b5c57600080fd5b5051612b6457fe5b600086867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8101818110612b9457fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231866040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015612c2d57600080fd5b505afa158015612c41573d6000803e3d6000fd5b505050506040513d6020811015612c5757600080fd5b50516040805160208981028281018201909352898252929350612c999290918a918a918291850190849080828437600092019190915250899250614796915050565b87611d368289897fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8101818110612ccc57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231896040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015611cfe57600080fd5b6000808242811015612dd857604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b6000612e057f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8c8c6140c6565b604080517f23b872dd00000000000000000000000000000000000000000000000000000000815233600482015273ffffffffffffffffffffffffffffffffffffffff831660248201819052604482018d9052915192935090916323b872dd916064808201926020929091908290030181600087803b158015612e8657600080fd5b505af1158015612e9a573d6000803e3d6000fd5b505050506040513d6020811015612eb057600080fd5b5050604080517f89afcb4400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff888116600483015282516000938493928616926389afcb44926024808301939282900301818787803b158015612f2357600080fd5b505af1158015612f37573d6000803e3d6000fd5b505050506040513d6040811015612f4d57600080fd5b50805160209091015190925090506000612f678e8e614d9f565b5090508073ffffffffffffffffffffffffffffffffffffffff168e73ffffffffffffffffffffffffffffffffffffffff1614612fa4578183612fa7565b82825b90975095508a871015613005576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806154bf6026913960400191505060405180910390fd5b8986101561305e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806154256026913960400191505060405180910390fd5b505050505097509795505050505050565b7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f81565b60606113917f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8484613f60565b60008060006131107f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8e7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26140c6565b905060008761311f578c613141565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff5b604080517fd505accf00000000000000000000000000000000000000000000000000000000815233600482015230602482015260448101839052606481018c905260ff8a16608482015260a4810189905260c48101889052905191925073ffffffffffffffffffffffffffffffffffffffff84169163d505accf9160e48082019260009290919082900301818387803b1580156131dd57600080fd5b505af11580156131f1573d6000803e3d6000fd5b505050506132038e8e8e8e8e8e610de4565b909f909e509c50505050505050505050505050565b6000806000834281101561328d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b61329b8c8c8c8c8c8c614ef2565b909450925060006132cd7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8e8e6140c6565b90506132db8d3383886141b1565b6132e78c3383876141b1565b8073ffffffffffffffffffffffffffffffffffffffff16636a627842886040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561336657600080fd5b505af115801561337a573d6000803e3d6000fd5b505050506040513d602081101561339057600080fd5b5051949d939c50939a509198505050505050505050565b6000806000834281101561341c57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b61344a8a7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28b348c8c614ef2565b9094509250600061349c7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8c7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26140c6565b90506134aa8b3383886141b1565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663d0e30db0856040518263ffffffff1660e01b81526004016000604051808303818588803b15801561351257600080fd5b505af1158015613526573d6000803e3d6000fd5b50505050507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb82866040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1580156135d257600080fd5b505af11580156135e6573d6000803e3d6000fd5b505050506040513d60208110156135fc57600080fd5b505161360457fe5b8073ffffffffffffffffffffffffffffffffffffffff16636a627842886040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561368357600080fd5b505af1158015613697573d6000803e3d6000fd5b505050506040513d60208110156136ad57600080fd5b50519250348410156136c5576136c533853403613cff565b505096509650969350505050565b6060814281101561374557604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f556e69737761705632526f757465723a20455850495245440000000000000000604482015290519081900360640190fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff168686600081811061378957fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461382857604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604482015290519081900360640190fd5b6138867f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8888888080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525061460892505050565b9150348260008151811061389657fe5b602002602001015111156138f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260278152602001806154986027913960400191505060405180910390fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663d0e30db08360008151811061393e57fe5b60200260200101516040518263ffffffff1660e01b81526004016000604051808303818588803b15801561397157600080fd5b505af1158015613985573d6000803e3d6000fd5b50505050507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb6139f77f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110611acd57fe5b84600081518110613a0457fe5b60200260200101516040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015613a7557600080fd5b505af1158015613a89573d6000803e3d6000fd5b505050506040513d6020811015613a9f57600080fd5b5051613aa757fe5b613ae682878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250614381915050565b81600081518110613af357fe5b602002602001015134111561251b5761251b3383600081518110613b1357fe5b60200260200101513403613cff565b6040805173ffffffffffffffffffffffffffffffffffffffff8481166024830152604480830185905283518084039091018152606490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fa9059cbb00000000000000000000000000000000000000000000000000000000178152925182516000946060949389169392918291908083835b60208310613bf857805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101613bbb565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114613c5a576040519150601f19603f3d011682016040523d82523d6000602084013e613c5f565b606091505b5091509150818015613c8d575080511580613c8d5750808060200190516020811015613c8a57600080fd5b50515b613cf857604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5472616e7366657248656c7065723a205452414e534645525f4641494c454400604482015290519081900360640190fd5b5050505050565b6040805160008082526020820190925273ffffffffffffffffffffffffffffffffffffffff84169083906040518082805190602001908083835b60208310613d7657805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101613d39565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114613dd8576040519150601f19603f3d011682016040523d82523d6000602084013e613ddd565b606091505b5050905080613e37576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806154e56023913960400191505060405180910390fd5b505050565b6000808411613e96576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180615557602b913960400191505060405180910390fd5b600083118015613ea65750600082115b613efb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602881526020018061544b6028913960400191505060405180910390fd5b6000613f0f856103e563ffffffff6151f316565b90506000613f23828563ffffffff6151f316565b90506000613f4983613f3d886103e863ffffffff6151f316565b9063ffffffff61527916565b9050808281613f5457fe5b04979650505050505050565b6060600282511015613fd357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f556e697377617056324c6962726172793a20494e56414c49445f504154480000604482015290519081900360640190fd5b815167ffffffffffffffff81118015613feb57600080fd5b50604051908082528060200260200182016040528015614015578160200160208202803683370190505b509050828160008151811061402657fe5b60200260200101818152505060005b60018351038110156140be576000806140788786858151811061405457fe5b602002602001015187866001018151811061406b57fe5b60200260200101516152eb565b9150915061409a84848151811061408b57fe5b60200260200101518383613e3c565b8484600101815181106140a957fe5b60209081029190910101525050600101614035565b509392505050565b60008060006140d58585614d9f565b604080517fffffffffffffffffffffffffffffffffffffffff000000000000000000000000606094851b811660208084019190915293851b81166034830152825160288184030181526048830184528051908501207fff0000000000000000000000000000000000000000000000000000000000000060688401529a90941b9093166069840152607d8301989098527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f609d808401919091528851808403909101815260bd909201909752805196019590952095945050505050565b6040805173ffffffffffffffffffffffffffffffffffffffff85811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f23b872dd0000000000000000000000000000000000000000000000000000000017815292518251600094606094938a169392918291908083835b6020831061428f57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101614252565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146142f1576040519150601f19603f3d011682016040523d82523d6000602084013e6142f6565b606091505b5091509150818015614324575080511580614324575080806020019051602081101561432157600080fd5b50515b614379576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806155336024913960400191505060405180910390fd5b505050505050565b60005b60018351038110156146025760008084838151811061439f57fe5b60200260200101518584600101815181106143b657fe5b60200260200101519150915060006143ce8383614d9f565b50905060008785600101815181106143e257fe5b602002602001015190506000808373ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff161461442a5782600061442e565b6000835b91509150600060028a510388106144455788614486565b6144867f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f878c8b6002018151811061447957fe5b60200260200101516140c6565b90506144b37f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f88886140c6565b73ffffffffffffffffffffffffffffffffffffffff1663022c0d9f84848460006040519080825280601f01601f1916602001820160405280156144fd576020820181803683370190505b506040518563ffffffff1660e01b8152600401808581526020018481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015614588578181015183820152602001614570565b50505050905090810190601f1680156145b55780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b1580156145d757600080fd5b505af11580156145eb573d6000803e3d6000fd5b505060019099019850614384975050505050505050565b50505050565b606060028251101561467b57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f556e697377617056324c6962726172793a20494e56414c49445f504154480000604482015290519081900360640190fd5b815167ffffffffffffffff8111801561469357600080fd5b506040519080825280602002602001820160405280156146bd578160200160208202803683370190505b50905082816001835103815181106146d157fe5b602090810291909101015281517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff015b80156140be576000806147318786600186038151811061471d57fe5b602002602001015187868151811061406b57fe5b9150915061475384848151811061474457fe5b60200260200101518383614b9b565b84600185038151811061476257fe5b602090810291909101015250507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01614701565b60005b6001835103811015613e37576000808483815181106147b457fe5b60200260200101518584600101815181106147cb57fe5b60200260200101519150915060006147e38383614d9f565b50905060006148137f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f85856140c6565b90506000806000808473ffffffffffffffffffffffffffffffffffffffff16630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b15801561486157600080fd5b505afa158015614875573d6000803e3d6000fd5b505050506040513d606081101561488b57600080fd5b5080516020909101516dffffffffffffffffffffffffffff918216935016905060008073ffffffffffffffffffffffffffffffffffffffff8a8116908916146148d55782846148d8565b83835b9150915061495d828b73ffffffffffffffffffffffffffffffffffffffff166370a082318a6040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015611cfe57600080fd5b955061496a868383613e3c565b9450505050506000808573ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff16146149ae578260006149b2565b6000835b91509150600060028c51038a106149c9578a6149fd565b6149fd7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f898e8d6002018151811061447957fe5b60408051600080825260208201928390527f022c0d9f000000000000000000000000000000000000000000000000000000008352602482018781526044830187905273ffffffffffffffffffffffffffffffffffffffff8086166064850152608060848501908152845160a48601819052969750908c169563022c0d9f958a958a958a9591949193919260c486019290918190849084905b83811015614aad578181015183820152602001614a95565b50505050905090810190601f168015614ada5780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b158015614afc57600080fd5b505af1158015614b10573d6000803e3d6000fd5b50506001909b019a506147999950505050505050505050565b8082038281111561139457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f64732d6d6174682d7375622d756e646572666c6f770000000000000000000000604482015290519081900360640190fd5b6000808411614bf5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c8152602001806153d4602c913960400191505060405180910390fd5b600083118015614c055750600082115b614c5a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602881526020018061544b6028913960400191505060405180910390fd5b6000614c7e6103e8614c72868863ffffffff6151f316565b9063ffffffff6151f316565b90506000614c986103e5614c72868963ffffffff614b2916565b9050614cb56001828481614ca857fe5b049063ffffffff61527916565b9695505050505050565b6000808411614d19576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806154736025913960400191505060405180910390fd5b600083118015614d295750600082115b614d7e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602881526020018061544b6028913960400191505060405180910390fd5b82614d8f858463ffffffff6151f316565b81614d9657fe5b04949350505050565b6000808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415614e27576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806154006025913960400191505060405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1610614e61578284614e64565b83835b909250905073ffffffffffffffffffffffffffffffffffffffff8216614eeb57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f556e697377617056324c6962726172793a205a45524f5f414444524553530000604482015290519081900360640190fd5b9250929050565b604080517fe6a4390500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff888116600483015287811660248301529151600092839283927f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f9092169163e6a4390591604480820192602092909190829003018186803b158015614f9257600080fd5b505afa158015614fa6573d6000803e3d6000fd5b505050506040513d6020811015614fbc57600080fd5b505173ffffffffffffffffffffffffffffffffffffffff1614156150a257604080517fc9c6539600000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8a81166004830152898116602483015291517f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f9092169163c9c65396916044808201926020929091908290030181600087803b15801561507557600080fd5b505af1158015615089573d6000803e3d6000fd5b505050506040513d602081101561509f57600080fd5b50505b6000806150d07f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8b8b6152eb565b915091508160001480156150e2575080155b156150f2578793508692506151e6565b60006150ff898484614cbf565b905087811161516c5785811015615161576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806154256026913960400191505060405180910390fd5b8894509250826151e4565b6000615179898486614cbf565b90508981111561518557fe5b878110156151de576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806154bf6026913960400191505060405180910390fd5b94508793505b505b5050965096945050505050565b600081158061520e5750508082028282828161520b57fe5b04145b61139457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f64732d6d6174682d6d756c2d6f766572666c6f77000000000000000000000000604482015290519081900360640190fd5b8082018281101561139457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f64732d6d6174682d6164642d6f766572666c6f77000000000000000000000000604482015290519081900360640190fd5b60008060006152fa8585614d9f565b50905060008061530b8888886140c6565b73ffffffffffffffffffffffffffffffffffffffff16630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b15801561535057600080fd5b505afa158015615364573d6000803e3d6000fd5b505050506040513d606081101561537a57600080fd5b5080516020909101516dffffffffffffffffffffffffffff918216935016905073ffffffffffffffffffffffffffffffffffffffff878116908416146153c15780826153c4565b81815b9099909850965050505050505056fe556e697377617056324c6962726172793a20494e53554646494349454e545f4f55545055545f414d4f554e54556e697377617056324c6962726172793a204944454e544943414c5f414444524553534553556e69737761705632526f757465723a20494e53554646494349454e545f425f414d4f554e54556e697377617056324c6962726172793a20494e53554646494349454e545f4c4951554944495459556e697377617056324c6962726172793a20494e53554646494349454e545f414d4f554e54556e69737761705632526f757465723a204558434553534956455f494e5055545f414d4f554e54556e69737761705632526f757465723a20494e53554646494349454e545f415f414d4f554e545472616e7366657248656c7065723a204554485f5452414e534645525f4641494c4544556e69737761705632526f757465723a20494e53554646494349454e545f4f55545055545f414d4f554e545472616e7366657248656c7065723a205452414e534645525f46524f4d5f4641494c4544556e697377617056324c6962726172793a20494e53554646494349454e545f494e5055545f414d4f554e54a26469706673582212206dd6e03c4b2c0a8e55214926227ae9e2d6f9fec2ce74a6446d615afa355c84f364736f6c63430006060033";
        
        DecompileBuilder::new(bytecode)
            .output("./output/tests/decompile/test4")
            .include_sol(true)
            .default(true)
            .skip_resolving(true)
            .decompile();

        // throws if not found. asserts success
        let output = read_file(&String::from("./output/tests/decompile/test4/decompiled.sol"));

        // assert that the output is correct
        for line in &["function Unresolved_02751cec(address arg0, bytes memory arg1, bytes memory arg2, bytes memory arg3, address arg4, bytes memory arg5) public returns (bytes memory) {",
            "(bool success, bytes memory ret0) = address(var_j).call{ value: 0 }(var_n);",
            "revert(\"UniswapV2Library: ZERO_ADDRESS\");",
            "revert(\"TransferHelper: TRANSFER_FAILED\");"] {
            println!("{line}");
            assert!(output.contains(line));
        }

        // drop path
        delete_path(&String::from("./output/tests/decompile/test4"));
    }

}

#[cfg(test)]
mod postprocess_tests {

    use std::collections::HashMap;

    use indicatif::ProgressBar;

    use crate::decompile::out::postprocessers::solidity::postprocess;

    #[test]
    fn test_bitmask_conversion() {
        let lines = vec![
            String::from("(0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff) & (arg0);"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("uint256(arg0);")]);
    }
    
    #[test]
    fn test_bitmask_conversion_mask_after() {
        let lines = vec![
            String::from("(arg0) & (0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff);"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("uint256(arg0);")]);
    }

    #[test]
    fn test_bitmask_conversion_unusual_mask() {
        let lines = vec![
            String::from("(arg0) & (0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00);"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("uint248(arg0);")]);
    }

    #[test]
    fn test_simplify_casts() {
        let lines = vec![
            String::from("uint256(uint256(arg0));"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("uint256(arg0);")]);
    }

    #[test]
    fn test_simplify_casts_complex() {
        let lines = vec![
            String::from("ecrecover(uint256(uint256(arg0)), uint256(uint256(arg0)), uint256(uint256(uint256(arg0))));"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("ecrecover(uint256(arg0), uint256(arg0), uint256(arg0));")]);
    }

    #[test]
    fn test_iszero_flip() {
        let lines = vec![
            String::from("if (iszero(arg0)) {"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("if (!arg0) {")]);
    }

    #[test]
    fn test_iszero_flip_complex() {
        let lines = vec![
            String::from("if (iszero(iszero(arg0))) {"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("if (arg0) {")]);
    }

    #[test]
    fn test_iszero_flip_complex2() {
        let lines = vec![
            String::from("if (iszero(iszero(iszero(arg0)))) {"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("if (!arg0) {")]);
    }

    #[test]
    fn test_simplify_parentheses() {
        let lines = vec![
            String::from("((arg0))"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("arg0")]);
    }

    #[test]
    fn test_simplify_parentheses_complex() {
        let lines = vec![
            String::from("if ((cast(((arg0) + 1) / 10))) {"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("if (cast(arg0 + 1 / 10)) {")]);
    }

    #[test]
    fn test_simplify_parentheses_complex2() {
        let lines = vec![
            String::from("if (((((((((((((((cast(((((((((((arg0 * (((((arg1))))))))))))) + 1)) / 10)))))))))))))))) {"),
        ];

        assert_eq!(postprocess(lines, HashMap::new(), HashMap::new(), &ProgressBar::new(128)), vec![String::from("if (cast((arg0 * (arg1)) + 1 / 10)) {")]);
    }
}